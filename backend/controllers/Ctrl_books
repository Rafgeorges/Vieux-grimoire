const ModelBook = require('../models/Model_Book')
 
  
  
  // POST
  exports.createBook = (req, res, next) => {
//   // Stockage de la requête sous forme de JSON dans une constante (requête sous la forme form-data à l'origine)
//    const bookItem = JSON.parse(req.body);

 
    //création d'un objet book
    const book = new ModelBook({
      ...req.body,

    });
    book.save()
    .then(() => res.status(201).json({message : 'success' , data : book}))
    .catch(error => res.status(400).json({ error }));
  };




// GET => Récupération de tous les livres
exports.getAllBooks = (req, res, next) => {
    // Renvoie un tableau contenant tous les Books de la base de données
    ModelBook.find()
        .then(books => res.status(200).json(books))
        .catch(error => res.status(404).json({ error }));
};